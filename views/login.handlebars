
<body>
  <div class="fluid-container">
    <div class="container"> 
        <div class="form-section">
          <div class="form-conatiner">
            <h2 class="heading__h2"></i>Unison</h2>
            <br><br>  
            <p class="links__p"><a>Login de Usuario</a>

           <form action="/logueo" method="POST" id="form1" class="container-sm">    
             <input type="text" class="input" id="usuarioId" name="usuario" value="" placeholder="Usuario">
              <input type="password" class="input" id="passwordId" name="password" placeholder="Contrase単a">
               <div>
                   <!-- <input type="button" onclick="miFunc()" class="btn-registrar" value="Ingresar"> -->
                   <input type="submit" onclick="miFunc()" class="btn-registrar" value="Ingresar">
              </div>
           </form>
           <a href="/registro" class="btn-cancelar">Registro</a>
           <a href="/" class="btn-cancelar">Inicio</a>
          </div>
      </div>
    </div>
  </div>
<link rel="stylesheet" type="text/css" href="/css/signup.css" />

<script src="index.js">


</script>
</body> 



 <!--
 
 <!DOCTYPE html>
<html lang="en">
    <head>
        <title>Login</title>
        <meta charset="utf-8"> 
		    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> 
          <link rel="stylesheet" href="/public/css/login.css">   
	
    </head>
<body>


  <div class="fluid-container">
    <div class="container" "with = 1100px" "heigt = 1100px"> 

       <div  class="form-section">
            <h2>Login de Usuario</h2>
           <form action="/logueo" method="POST" id="form1" class="form3-section">    
             <input type="text" class="input" id="usuarioId" name="usuario" value="" placeholder="Usuario">
              <input type="password" class="input" id="passwordId" name="password" placeholder="Contrase単a">
               <div>
                   <input type="button" onclick="miFunc()" class="btn-login" value="Ingresar">
              </div>
           </form>
           <a href="/registro" class="btn-registro">Registro</a>
           <a href="/" class="btn-cancelar">Inicio</a>
       </div>
    </div>
 </div>


-->


<script>
  function miFunc() {
   
    login();
  }
</script>

<script>
async function putJSON(data) {
     try{
           const response = await fetch ("/login", {
             method: "PUT", 
            //mode: 'no-cors',
             headers: {
             "Content-Type": "application/json",
          },
           body: JSON.stringify(data),
         });
 
         //En result obtengo la respuesta
         const result = await response.json();
         console.log("Success:", result);
          
         if (result.validar == false) {
          alert("Los datos son incorrectos")
         } else {
           document.getElementById("form1").submit()
         }
 
     } catch (error) {
       console.error("Error:", error);
     }
 }


</script>

<script>
function login() {
    
    let usuario = document.getElementById("usuarioId").value
    let contrase単a = document.getElementById("passwordId").value
        
    let data = {
        user: usuario,
        pass: contrase単a
    }
    putJSON(data)    
}

</script>
 <!--  <link rel="stylesheet" type="text/css" href="/css/login.css" />   --> 

<script src="index.js"></script>  

</body>

</html>  
